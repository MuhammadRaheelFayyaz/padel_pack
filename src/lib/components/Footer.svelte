<script>
    import { page } from '$app/stores';
	import Newsletter from './Newsletter.svelte';
    const { pages, blocks } = $page.data;
    const seoPages = pages.filter(page => page.properties.content);
	let footerTitles = blocks.find(block => block.title === 'footer-titles');

    const trustPilot = footerTitles;
	footerTitles = footerTitles?.properties?.title.split(';');

    const currentDate = new Date();
    const currentYear = currentDate.getFullYear();

    const navigation = [
        {
            title: 'Home',
            href: '/',
            active: false
        },
        {
            title: 'Padel Packs',
            href: '/padel-packs',
            active: false
        },
        {
            title: 'Contact',
            href: '/contact',
            active: false
        },
        {
            title: 'Account',
            href: '/account',
            active: false
        },
        {
            title: 'Veelgestelde vragen',
            href: '/veelgestelde-vragen',
            active: false
        },
    ];
</script>

<footer class="!text-white">
    <div class="container">
        <div class="flex flex-wrap gap-y-4">
            <!-- Links -->
            <div class="w-1/2 md:w-1/3 lg:w-1/6">
                {#if footerTitles[0]}
                    <h4>{footerTitles[0]}</h4>
                {/if}
                <ul>
                    {#each navigation as item}
                        <li>
                            <a href={item.href}>
                                {item.title}
                            </a>
                        </li>
                    {/each}
                </ul>
            </div>

            <div class="w-1/2 md:w-1/3 lg:w-1/6">
                {#if footerTitles[1]}
                    <h4>{footerTitles[1]}</h4>
                {/if}
                <ul>
                    {#each seoPages as item}
                        <li>
                            <a 
                                href={item.properties.pathname}
                            >
                                {item.properties.title}
                            </a>
                        </li>
                    {/each}
                </ul>
            </div>

            <!-- SEO -->
            <div class="lg:w-1/6">
                <!-- <h4>Nog meer SEO</h4>
                <ul>
                    {#each menu as item}
                        <li>
                            <a href={item.href}>
                                {item.title}
                            </a>
                        </li>
                    {/each}
                </ul> -->
            </div>

            <!-- Newsletter -->
            <div class="lg:w-3/6 mt-8 lg:mt-0">
                <Newsletter />
            </div>

            <!-- About / Reviews -->
            <div class="w-full">
                <hr class="border-white/5 py-2"/>

                <svg width="101" height="30" viewBox="0 0 101 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.7665 28.7517C17.9336 28.7517 17.4121 27.0878 17.4121 27.0878C17.4121 27.0878 15.7899 28.7517 13.5567 28.7517C11.7501 28.7517 10.2858 27.4984 10.2858 25.0836C10.2858 21.9773 12.1188 18.8062 16.4957 18.8062C17.1224 18.8062 17.7334 18.9088 18.3128 19.1465C18.4761 19.2167 18.6341 19.2924 18.8026 19.3518C19.1608 19.476 19.5031 19.2978 19.856 19.1951C20.0983 19.1249 20.3511 19.0547 20.5987 19.0979C21.0411 19.1735 21.3624 19.6057 21.4572 20.0541C21.552 20.5025 21.4783 20.9725 21.4046 21.4263C21.236 22.4203 20.9147 23.5007 20.999 24.5056C21.0359 24.9485 20.9569 25.3591 21.2149 25.7535C21.3993 26.0344 21.6995 26.2127 22.0366 26.2127C22.558 26.2127 22.8003 25.9642 23.2006 25.5536C23.4166 25.3321 23.5377 25.2403 23.7221 25.2403C23.9959 25.2403 24.1487 25.4942 24.1487 25.6778C24.1487 26.0236 23.9643 26.2721 23.6588 26.6827C23.0163 27.5308 21.6995 28.7517 19.7718 28.7517H19.7665ZM16.7696 20.1837C15.0262 20.1837 14.2624 23.4791 14.2624 25.2024C14.2624 26.0182 14.6311 26.6773 15.3 26.6773C15.8794 26.6773 16.4904 26.1424 16.8907 25.2024C17.2594 24.3867 17.686 22.3176 17.686 21.0913C17.686 20.5241 17.4121 20.1837 16.7696 20.1837Z" fill="white"/>
                    <path d="M36.1311 25.5481C36.3471 25.3266 36.4682 25.2348 36.6526 25.2348C36.9265 25.2348 37.0792 25.4887 37.0792 25.6723C37.0792 26.0181 36.8949 26.2666 36.5894 26.6772C35.9468 27.5253 34.63 28.7462 32.7023 28.7462C30.7746 28.7462 30.3163 27.1796 30.3163 27.1796C30.3163 27.1796 28.7257 28.7462 26.5241 28.7462C24.3224 28.7462 23.2216 27.4281 23.2216 25.1051C23.2216 21.5612 25.6076 18.8006 29.0312 18.8006C30.1004 18.8006 30.9905 19.1464 31.2644 19.3355C31.7226 17.5149 32.1493 15.7268 32.1493 14.0629C32.1493 13.0256 31.6278 12.5232 30.9852 12.5232C30.6797 12.5232 30.527 12.399 30.527 12.145C30.527 11.486 32.1493 10.4487 33.8926 10.4487C35.4833 10.4487 36.4946 11.3293 36.4946 12.896C36.4946 15.6889 33.9242 21.1182 33.9242 24.9106C33.9242 25.7264 34.4141 26.1964 34.9671 26.1964C35.4886 26.1964 35.7308 25.9479 36.1311 25.5373V25.5481ZM29.6474 20.1836C27.9356 20.1836 27.2298 23.7005 27.2298 25.4238C27.2298 26.2072 27.5353 26.7096 28.2095 26.7096C28.7889 26.7096 29.3999 26.1748 29.8002 25.2023C30.1372 24.419 30.6271 22.3499 30.6271 21.0912C30.6271 20.524 30.29 20.1836 29.6474 20.1836Z" fill="white"/>
                    <path d="M46.1332 25.1429C46.3755 24.9214 46.5914 24.7647 46.7757 24.7647C47.018 24.7647 47.1444 24.9538 47.1444 25.1429C47.1444 25.4562 46.9917 25.7101 46.5335 26.2072C45.5222 27.3038 44.0264 28.8435 41.0557 28.8435C38.0851 28.8435 36.1627 27.5253 36.1627 24.5162C36.1627 21.5072 38.5486 18.7412 42.6148 18.7412C44.6953 18.7412 45.6433 19.6812 45.6433 21.0318C45.6433 22.8199 43.5945 24.5487 40.5343 24.7972C40.5343 25.8938 41.3612 26.742 42.8307 26.742C44.3898 26.742 45.459 25.7047 46.1332 25.1429ZM43.4101 20.8103C43.4101 20.3403 43.1626 20.0864 42.678 20.0864C41.7615 20.0864 40.5343 21.626 40.5343 23.4736C42.2777 23.1279 43.4101 21.5612 43.4101 20.8049V20.8103Z" fill="white"/>
                    <path d="M51.2685 26.3962C51.6372 26.3962 51.8795 26.272 52.1271 26.0829C52.3114 25.9262 52.401 25.8344 52.5537 25.8344C52.7697 25.8344 52.8908 25.991 52.8908 26.1801C52.8908 26.4286 52.7381 26.6825 52.5221 26.9635C51.8163 27.9035 50.8998 28.7516 49.3092 28.7516C47.2603 28.7516 46.3123 27.4335 46.3123 25.802C46.3123 22.9496 48.6666 18.9303 48.6666 14.0682C48.6666 13.031 48.1452 12.5286 47.4763 12.5286C47.2024 12.5286 47.0496 12.4043 47.0496 12.1504C47.0496 11.4913 48.6719 10.4541 50.4153 10.4541C52.0059 10.4541 53.0172 11.3347 53.0172 12.9013C53.0172 15.5376 50.568 21.9069 50.568 24.916C50.568 25.9802 50.8419 26.3908 51.2738 26.3908L51.2685 26.3962Z" fill="white"/>
                    <path d="M8.55294 17.6822L7.0887 25.0617C6.87802 26.126 6.77268 26.8175 6.77268 27.1308C6.77268 27.4441 6.84642 27.7791 6.98336 28.141C5.85621 28.7137 4.84494 29 3.94954 29C3.3807 29 3.09628 28.7623 3.09628 28.2923C3.09628 28.0438 3.20689 27.3469 3.42284 26.1908L5.14516 17.3797C2.37997 16.7422 1 15.7968 1 14.5543C1 14.295 1.05267 13.9655 1.16328 13.5603C2.3431 14.5597 3.77046 15.2782 5.45065 15.7266L6.58833 9.90835C6.77268 8.95755 7.95776 3.54447 7.69968 3.22034C9.15338 2.6585 10.2963 2.52344 10.8599 2.52344C11.5393 2.52344 10.3437 8.34169 9.99084 10.1136L8.85843 16.0345C11.9976 16.0345 14.5679 15.2404 16.5641 13.6467C18.5603 12.0531 19.5558 10.0164 19.5558 7.52595C19.5558 6.15917 19.0343 5.05711 17.9915 4.21976C16.9486 3.3824 15.5686 2.96643 13.8516 2.96643C8.73728 2.96643 4.63426 5.16516 1.54251 9.55721C1.27915 8.86031 1.14748 8.32008 1.14748 7.92572C1.14748 6.23481 2.62752 4.65734 5.58233 3.19333C8.53714 1.72931 11.7395 1 15.1789 1C20.4038 1 23.0162 2.97183 23.0162 6.92089C23.0162 9.80031 21.6626 12.3178 18.9501 14.4679C16.2375 16.618 13.0721 17.6984 9.44834 17.6984L8.54767 17.6822H8.55294Z" fill="white" stroke="white" stroke-miterlimit="10"/>
                    <path d="M65.3949 17.6822L63.9306 25.0617C63.7199 26.126 63.6146 26.8175 63.6146 27.1308C63.6146 27.4441 63.6883 27.7791 63.8253 28.141C62.6981 28.7137 61.6869 29 60.7915 29C60.2226 29 59.9382 28.7623 59.9382 28.2923C59.9382 28.0438 60.0488 27.3469 60.2648 26.1908L61.9871 17.3797C59.2219 16.7422 57.8419 15.7968 57.8419 14.5543C57.8419 14.295 57.8946 13.9655 58.0052 13.5603C59.185 14.5597 60.6124 15.2782 62.2926 15.7266L63.4302 9.90835C63.6146 8.95755 64.7997 3.54447 64.5416 3.22034C65.9953 2.6585 67.1382 2.52344 67.7018 2.52344C68.3813 2.52344 67.1857 8.34169 66.8328 10.1136L65.7004 16.0345C68.8395 16.0345 71.4098 15.2404 73.406 13.6467C75.4022 12.0531 76.3977 10.0164 76.3977 7.52595C76.3977 6.15917 75.8763 5.05711 74.8334 4.21976C73.7905 3.3824 72.4106 2.96643 70.6935 2.96643C65.5792 2.96643 61.4762 5.16516 58.3844 9.55721C58.1211 8.86031 57.9894 8.32008 57.9894 7.92572C57.9894 6.23481 59.4694 4.65734 62.4243 3.19333C65.3791 1.72931 68.5814 1 72.0208 1C77.2457 1 79.8582 2.97183 79.8582 6.92089C79.8582 9.80031 78.5045 12.3178 75.792 14.4679C73.0795 16.618 69.914 17.6984 66.2903 17.6984L65.3896 17.6822H65.3949Z" fill="white" stroke="white" stroke-miterlimit="10"/>
                    <path d="M89.9235 25.0459C90.1657 24.8298 90.3817 24.6732 90.5608 24.6732C90.8031 24.6732 90.9242 24.8622 90.9242 25.0459C90.9242 25.3592 90.7398 25.6078 90.2869 26.1048C89.2545 27.1636 87.7376 28.7195 84.9145 28.7195C82.0914 28.7195 80.0583 27.196 80.0583 24.5813C80.0583 21.3454 82.4864 18.6982 86.3998 18.6982C88.7068 18.6982 89.5548 19.6923 89.5548 20.8754C89.5548 22.1503 88.7647 22.8688 87.764 22.8688C87.0687 22.8688 86.5525 22.4636 86.5525 21.8424C86.5525 21.1563 87.0055 20.8754 87.0371 20.5026C87.0371 20.2541 86.8528 20.0974 86.4893 20.0974C85.6097 20.0974 84.3035 21.7451 84.3035 23.9601C84.3035 25.7968 85.457 26.6396 86.7316 26.6396C88.0063 26.6396 89.1913 25.705 89.9182 25.0513L89.9235 25.0459Z" fill="white"/>
                    <path d="M100.605 25.137C100.847 25.137 101 25.2937 101 25.5098C101 25.8501 100.789 26.3201 100.484 26.7847C99.8781 27.7193 99.2092 28.6215 97.5396 28.6215C94.9008 28.6215 94.5953 24.4833 94.2898 24.4833C94.2898 24.4833 93.5629 27.2223 93.5629 27.8165C93.5629 28.346 93.3786 28.4702 92.9256 28.4702C92.0144 28.4702 90.803 28.6269 90.3132 28.6269C89.9498 28.6269 89.7391 28.4702 89.7391 27.9408C89.7391 25.2343 92.815 15.1158 92.815 10.4752C92.815 9.4488 92.2989 8.95179 91.6615 8.95179C91.3877 8.95179 91.2086 8.82754 91.2086 8.57903C91.2086 7.92536 92.815 6.89893 94.5479 6.89893C96.1543 6.89893 97.1287 7.76869 97.1287 9.32455C97.1287 11.2856 94.569 21.685 94.569 22.9275C95.4801 22.9275 96.3913 21.8686 96.3913 21.1231C96.3913 20.7828 96.1807 20.718 96.1807 20.41C96.1807 19.7563 98.061 18.7569 99.4568 18.7569C100.062 18.7569 100.336 19.0054 100.336 19.4754C100.336 20.7828 99.0301 22.4629 96.7864 23.7378C97.1182 24.8291 98.1505 25.7637 99.0933 25.7637C99.9729 25.7637 100.126 25.1424 100.61 25.1424L100.605 25.137Z" fill="white"/>
                    <path d="M76.6506 28.7517C74.8177 28.7517 74.2962 27.0878 74.2962 27.0878C74.2962 27.0878 72.674 28.7517 70.4408 28.7517C68.6342 28.7517 67.1699 27.4984 67.1699 25.0836C67.1699 21.9773 69.0028 18.8062 73.3798 18.8062C74.0065 18.8062 74.6175 18.9088 75.1969 19.1465C75.3602 19.2167 75.5182 19.2924 75.6867 19.3518C76.0449 19.476 76.3872 19.2978 76.7401 19.1951C76.9824 19.1249 77.2352 19.0547 77.4828 19.0979C77.9252 19.1735 78.2465 19.6057 78.3413 20.0541C78.4361 20.5025 78.3624 20.9725 78.2886 21.4263C78.1201 22.4203 77.7988 23.5007 77.8831 24.5056C77.92 24.9485 77.8409 25.3591 78.099 25.7535C78.2834 26.0344 78.5836 26.2127 78.9207 26.2127C79.4421 26.2127 79.6844 25.9642 80.0847 25.5536C80.3007 25.3321 80.4218 25.2403 80.6061 25.2403C80.88 25.2403 81.0328 25.4942 81.0328 25.6778C81.0328 26.0236 80.8484 26.2721 80.5429 26.6827C79.9004 27.5308 78.5836 28.7517 76.6559 28.7517H76.6506ZM73.6536 20.1837C71.9103 20.1837 71.1465 23.4791 71.1465 25.2024C71.1465 26.0182 71.5152 26.6773 72.1841 26.6773C72.7635 26.6773 73.3745 26.1424 73.7748 25.2024C74.1435 24.3867 74.5701 22.3176 74.5701 21.0913C74.5701 20.5241 74.2962 20.1837 73.6536 20.1837Z" fill="white"/>
                </svg>
                
                <!-- Reviews -->
                <div class="flex flex-col w-full">
                    {#if trustPilot.properties.subtitle}
                        {@const stars = parseFloat(trustPilot.properties.subtitle)}
                        <div class="flex gap-0.5 mt-4">
                            {#each Array(stars) as _}
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                                    <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                                </svg>
                            {/each}
                        </div>
                        <div class="flex items-center justify-between w-full">
                            {#if trustPilot.properties.button_text}
                                <a href="https://nl.trustpilot.com{trustPilot.properties.button_url}" target="_blank" rel="noreferrer" class="text-xs mt-1 !mb-0 underline">
                                    {trustPilot.properties.button_text}
                                </a>
                            {/if}
                            <a href="https://www.instagram.com/padelpack" target="_blank" rel="noreferrer">
                                <svg class="w-5 h-5" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10 0C7.28625 0 6.945 0.0125 5.87875 0.06C4.8125 0.11 4.08625 0.2775 3.45 0.525C2.78262 0.776024 2.17811 1.16978 1.67875 1.67875C1.1701 2.17837 0.776384 2.7828 0.525 3.45C0.2775 4.085 0.10875 4.8125 0.06 5.875C0.0125 6.94375 0 7.28375 0 10.0013C0 12.7163 0.0125 13.0563 0.06 14.1225C0.11 15.1875 0.2775 15.9137 0.525 16.55C0.78125 17.2075 1.1225 17.765 1.67875 18.3212C2.23375 18.8775 2.79125 19.22 3.44875 19.475C4.08625 19.7225 4.81125 19.8912 5.87625 19.94C6.94375 19.9875 7.28375 20 10 20C12.7163 20 13.055 19.9875 14.1225 19.94C15.1863 19.89 15.915 19.7225 16.5513 19.475C17.2182 19.2239 17.8223 18.8301 18.3212 18.3212C18.8775 17.765 19.2188 17.2075 19.475 16.55C19.7213 15.9137 19.89 15.1875 19.94 14.1225C19.9875 13.0563 20 12.7163 20 10C20 7.28375 19.9875 6.94375 19.94 5.87625C19.89 4.8125 19.7213 4.085 19.475 3.45C19.2237 2.78278 18.8299 2.17834 18.3212 1.67875C17.822 1.16959 17.2175 0.775807 16.55 0.525C15.9125 0.2775 15.185 0.10875 14.1213 0.06C13.0538 0.0125 12.715 0 9.9975 0H10.0013H10ZM9.10375 1.8025H10.0013C12.6713 1.8025 12.9875 1.81125 14.0413 1.86C15.0162 1.90375 15.5462 2.0675 15.8988 2.20375C16.365 2.385 16.6987 2.6025 17.0487 2.9525C17.3988 3.3025 17.615 3.635 17.7963 4.1025C17.9338 4.45375 18.0963 4.98375 18.14 5.95875C18.1887 7.0125 18.1987 7.32875 18.1987 9.9975C18.1987 12.6663 18.1887 12.9837 18.14 14.0375C18.0963 15.0125 17.9325 15.5413 17.7963 15.8938C17.6359 16.3279 17.38 16.7205 17.0475 17.0425C16.6975 17.3925 16.365 17.6088 15.8975 17.79C15.5475 17.9275 15.0175 18.09 14.0413 18.135C12.9875 18.1825 12.6713 18.1938 10.0013 18.1938C7.33125 18.1938 7.01375 18.1825 5.96 18.135C4.985 18.09 4.45625 17.9275 4.10375 17.79C3.66937 17.6299 3.27641 17.3745 2.95375 17.0425C2.62094 16.72 2.36465 16.3271 2.20375 15.8925C2.0675 15.5412 1.90375 15.0113 1.86 14.0363C1.8125 12.9825 1.8025 12.6663 1.8025 9.995C1.8025 7.325 1.8125 7.01 1.86 5.95625C1.905 4.98125 2.0675 4.45125 2.205 4.09875C2.38625 3.6325 2.60375 3.29875 2.95375 2.94875C3.30375 2.59875 3.63625 2.3825 4.10375 2.20125C4.45625 2.06375 4.985 1.90125 5.96 1.85625C6.8825 1.81375 7.24 1.80125 9.10375 1.8V1.8025ZM15.3387 3.4625C15.1812 3.4625 15.0251 3.49354 14.8795 3.55384C14.7339 3.61415 14.6017 3.70254 14.4902 3.81397C14.3788 3.9254 14.2904 4.05769 14.2301 4.20328C14.1698 4.34887 14.1388 4.50491 14.1388 4.6625C14.1388 4.82009 14.1698 4.97613 14.2301 5.12172C14.2904 5.26731 14.3788 5.3996 14.4902 5.51103C14.6017 5.62246 14.7339 5.71085 14.8795 5.77116C15.0251 5.83146 15.1812 5.8625 15.3387 5.8625C15.657 5.8625 15.9622 5.73607 16.1873 5.51103C16.4123 5.28598 16.5387 4.98076 16.5387 4.6625C16.5387 4.34424 16.4123 4.03902 16.1873 3.81397C15.9622 3.58893 15.657 3.4625 15.3387 3.4625ZM10.0013 4.865C9.32009 4.85437 8.64362 4.97936 8.01122 5.23268C7.37883 5.486 6.80314 5.86259 6.31769 6.34053C5.83223 6.81847 5.4467 7.38821 5.18355 8.01657C4.9204 8.64494 4.78488 9.31938 4.78488 10.0006C4.78488 10.6819 4.9204 11.3563 5.18355 11.9847C5.4467 12.613 5.83223 13.1828 6.31769 13.6607C6.80314 14.1387 7.37883 14.5153 8.01122 14.7686C8.64362 15.0219 9.32009 15.1469 10.0013 15.1363C11.3494 15.1152 12.6353 14.5649 13.5812 13.6041C14.5272 12.6432 15.0574 11.349 15.0574 10.0006C15.0574 8.65228 14.5272 7.35802 13.5812 6.39719C12.6353 5.43636 11.3494 4.88603 10.0013 4.865ZM10.0013 6.66625C10.8854 6.66625 11.7334 7.01748 12.3586 7.64268C12.9838 8.26788 13.335 9.11583 13.335 10C13.335 10.8842 12.9838 11.7321 12.3586 12.3573C11.7334 12.9825 10.8854 13.3337 10.0013 13.3337C9.11709 13.3337 8.26913 12.9825 7.64393 12.3573C7.01873 11.7321 6.6675 10.8842 6.6675 10C6.6675 9.11583 7.01873 8.26788 7.64393 7.64268C8.26913 7.01748 9.11709 6.66625 10.0013 6.66625Z" fill="white"/>
                                </svg>
                            </a>
                        </div>
                    {/if}
                </div>
            </div>
        </div>

        <hr class="border-white/5 my-6"/>

        <!-- Credits -->
        <div class="flex flex-wrap text-xs text-white/50 gap-x-4 gap-y-2">
            <a href="/gebruiksvoorwaarden">Gebruiksvoorwaarden</a>
            <a href="/privacybeleid">Privacybeleid</a>
            <div class="w-full">
                {currentYear} Padel Pack
            </div>
        </div>
    </div>
</footer>

<style>
    footer {
        @apply py-12 bg-[#151515];
    }
    footer h4 {
        @apply text-2xl mb-1;
    }
    footer a {
        @apply flex py-1;
    }
</style>